var Q=Object.defineProperty;var X=(n,a,i)=>a in n?Q(n,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[a]=i;var W=(n,a,i)=>X(n,typeof a!="symbol"?a+"":a,i);import{c as V,a as D,j as e,b as p,B as h,L as N,U as ee,f as se,r as k,I as L,u as te}from"./main-amE6mPDm.js";import{C as F,a as H}from"./circle-check-big-DaPFtRnM.js";import{C as I}from"./clock-DsV4s8UB.js";import{A as T}from"./award-DSGASyfU.js";import{M as Y}from"./message-square-BFr9fZWG.js";import{B as q,T as re}from"./trash-2-D-FHT-5d.js";import{T as b}from"./trending-up-ZBWGlmuk.js";import{P as J}from"./progress-DNbG4PEc.js";import{P as A}from"./play-Bsqp6nLS.js";import{A as G}from"./arrow-right-CmwhbZAG.js";import{D as ae,a as ne,b as ie,c as le,d as ce,e as de,f as oe}from"./dialog-BJ4RE-0q.js";import{L as C}from"./label-2d2k_XBO.js";import{T as me}from"./textarea-DpBpWtX7.js";import{S as R,a as E,b as U,c as z,d as f}from"./select-Nm150RRW.js";import{T as M}from"./target-DA1N7FoU.js";import{P as Z}from"./plus-DxPzQ3h9.js";import{S as B}from"./star-soZIZnvE.js";import{U as ue}from"./users-q7MBazRm.js";import"./index-BdQq_4o_.js";import"./index-B2I2svRw.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],he=V("Flame",xe);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],O=V("RefreshCw",pe);function ge({stats:n,className:a}){const i=s=>{if(s<60)return`${s}m`;const d=Math.floor(s/60),l=s%60;return l>0?`${d}h ${l}m`:`${d}h`},o=[{title:"Courses Enrolled",value:n.totalCourses,icon:D,color:"blue",trend:null},{title:"Completed Courses",value:n.completedCourses,icon:F,color:"green",trend:n.completedCourses>0?"+1 this month":null},{title:"Learning Time",value:i(n.totalWatchTime),icon:I,color:"purple",trend:"+2.5h this week"},{title:"Study Streak",value:`${n.streakDays} days`,icon:he,color:"orange",trend:n.streakDays>7?"Personal best!":null},{title:"Certificates",value:n.certificatesEarned,icon:T,color:"yellow",trend:null},{title:"Forum Posts",value:n.forumPosts,icon:Y,color:"indigo",trend:n.forumPosts>10?"Active contributor":null},{title:"AI Chats",value:n.chatSessions,icon:q,color:"pink",trend:"+5 this week"},{title:"In Progress",value:n.inProgressCourses,icon:b,color:"teal",trend:"Keep going!"}],x=s=>{const d={blue:"text-blue-600 bg-blue-50 border-blue-100",green:"text-green-600 bg-green-50 border-green-100",purple:"text-purple-600 bg-purple-50 border-purple-100",orange:"text-orange-600 bg-orange-50 border-orange-100",yellow:"text-yellow-600 bg-yellow-50 border-yellow-100",indigo:"text-indigo-600 bg-indigo-50 border-indigo-100",pink:"text-pink-600 bg-pink-50 border-pink-100",teal:"text-teal-600 bg-teal-50 border-teal-100"};return d[s]||d.blue};return e.jsx("div",{className:p("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",a),children:o.map((s,d)=>{const l=s.icon,u=x(s.color);return e.jsxs("div",{className:"academic-card p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:p("p-3 rounded-lg border",u),children:e.jsx(l,{className:"h-6 w-6"})}),s.trend&&e.jsx("div",{className:"text-xs text-success font-medium bg-success/10 px-2 py-1 rounded",children:s.trend})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:s.value}),e.jsx("div",{className:"text-sm text-muted-foreground font-medium",children:s.title})]})]},d)})})}function je({courses:n,className:a}){const i=s=>{switch(s){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=s=>{if(s<60)return`${s}m`;const d=Math.floor(s/60),l=s%60;return l>0?`${d}h ${l}m`:`${d}h`},x=s=>{if(!s)return"Not started";const d=new Date(s),u=new Date().getTime()-d.getTime(),g=Math.floor(u/(1e3*60*60*24));return g===0?"Today":g===1?"Yesterday":g<7?`${g} days ago`:d.toLocaleDateString()};return n.length===0?e.jsxs("div",{className:p("academic-card p-8 text-center",a),children:[e.jsx(D,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No courses in progress"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start learning something new today!"}),e.jsx(h,{asChild:!0,children:e.jsx(N,{to:"/courses",children:"Browse Courses"})})]}):e.jsx("div",{className:p("space-y-4",a),children:n.map(s=>e.jsx("div",{className:"academic-card p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.courseThumbnail?e.jsx("img",{src:s.courseThumbnail,alt:s.courseTitle,className:"w-20 h-20 rounded-lg object-cover"}):e.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"h-8 w-8 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(N,{to:"/courses/$courseId",params:{courseId:s.courseId},className:"block group",children:e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-2",children:s.courseTitle})}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-3 w-3"}),e.jsx("span",{children:s.instructor})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-3 w-3"}),e.jsx("span",{children:s.category})]}),e.jsx("span",{className:p("px-2 py-1 rounded text-xs font-medium",i(s.difficulty)),children:s.difficulty})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"text-lg font-bold text-primary",children:[s.progress,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),e.jsx("div",{className:"mb-3",children:e.jsx(J,{value:s.progress,className:"h-2"})}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsxs("span",{children:[o(s.estimatedTimeToComplete)," remaining"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsxs("span",{children:["Last watched ",x(s.lastWatched)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.nextLecture&&e.jsx(h,{size:"sm",variant:"outline",asChild:!0,children:e.jsxs(N,{to:"/learn/$courseId/$lectureId",params:{courseId:s.courseId,lectureId:s.nextLecture.id},className:"gap-2",children:[e.jsx(A,{className:"h-3 w-3"}),"Continue"]})}),e.jsx(h,{size:"sm",variant:"ghost",asChild:!0,children:e.jsxs(N,{to:"/courses/$courseId",params:{courseId:s.courseId},className:"gap-1",children:["View Course",e.jsx(G,{className:"h-3 w-3"})]})})]})]}),s.nextLecture&&e.jsx("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Next: ",s.nextLecture.title]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.nextLecture.duration," minutes"]})]}),e.jsx(h,{size:"sm",asChild:!0,children:e.jsxs(N,{to:"/learn/$courseId/$lectureId",params:{courseId:s.courseId,lectureId:s.nextLecture.id},className:"gap-2",children:[e.jsx(A,{className:"h-3 w-3"}),"Watch Now"]})})]})})]})]})},s.courseId))})}function fe({activities:n,className:a}){const i=s=>{switch(s){case"course_started":return D;case"lecture_completed":return F;case"certificate_earned":return T;case"forum_post":return Y;case"chat_session":return q;case"achievement_unlocked":return T;default:return A}},o=s=>{switch(s){case"course_started":return"text-blue-600 bg-blue-50";case"lecture_completed":return"text-green-600 bg-green-50";case"certificate_earned":return"text-yellow-600 bg-yellow-50";case"forum_post":return"text-purple-600 bg-purple-50";case"chat_session":return"text-pink-600 bg-pink-50";case"achievement_unlocked":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},x=s=>{switch(s.type){case"course_started":return`Started: ${s.title.replace("Started: ","")}`;case"lecture_completed":return`Completed: ${s.title.replace("Completed: ","")}`;case"certificate_earned":return`Certificate Earned: ${s.title.replace("Certificate Earned: ","")}`;case"forum_post":return s.title;case"chat_session":return`AI Chat: ${s.title.replace("AI Chat: ","")}`;case"achievement_unlocked":return s.title;default:return s.title}};return n.length===0?e.jsxs("div",{className:"academic-card p-8 text-center",children:[e.jsx(b,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-muted-foreground",children:"Start learning to see your progress here!"})]}):e.jsxs("div",{className:"academic-card",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-foreground",children:"Recent Activity"})}),e.jsx("div",{className:"divide-y",children:n.map(s=>{var u,g,w;const d=i(s.type),l=o(s.type);return e.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${l}`,children:e.jsx(d,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground text-sm",children:x(s)}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),e.jsx("span",{children:se(new Date(s.timestamp))})]}),((u=s.metadata)==null?void 0:u.duration)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.metadata.duration,"min"]})]}),((g=s.metadata)==null?void 0:g.progress)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsxs("span",{children:[s.metadata.progress,"% complete"]})]}),((w=s.metadata)==null?void 0:w.points)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsxs("span",{children:["+",s.metadata.points," points"]})]})]})]}),(s.courseId||s.lectureId)&&e.jsx("div",{className:"ml-3",children:s.lectureId?e.jsx(N,{to:"/learn/$courseId/$lectureId",params:{courseId:s.courseId,lectureId:s.lectureId},className:"text-xs text-primary hover:underline",children:"View"}):s.courseId?e.jsx(N,{to:"/courses/$courseId",params:{courseId:s.courseId},className:"text-xs text-primary hover:underline",children:"View Course"}):null})]})})]})},s.id)})}),n.length>5&&e.jsx("div",{className:"p-4 border-t text-center",children:e.jsx("button",{className:"text-sm text-primary hover:underline font-medium",children:"View All Activity"})})]})}function ye({goals:n,onCreateGoal:a,onUpdateGoal:i,onDeleteGoal:o,className:x}){const[s,d]=k.useState(!1),[l,u]=k.useState({title:"",description:"",type:"daily",target:30,unit:"minutes",deadline:""}),g=()=>{if(!l.title.trim())return;const r={title:l.title.trim(),description:l.description.trim(),type:l.type,target:l.target,unit:l.unit,deadline:l.deadline||void 0};a==null||a(r),d(!1),u({title:"",description:"",type:"daily",target:30,unit:"minutes",deadline:""})},w=r=>{switch(r){case"daily":return I;case"weekly":return H;case"monthly":return b;case"custom":return M;default:return M}},P=r=>{switch(r){case"daily":return"text-blue-600 bg-blue-50 border-blue-200";case"weekly":return"text-green-600 bg-green-50 border-green-200";case"monthly":return"text-purple-600 bg-purple-50 border-purple-200";case"custom":return"text-orange-600 bg-orange-50 border-orange-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},t=r=>{if(!r)return null;const c=new Date(r),S=new Date,y=c.getTime()-S.getTime(),j=Math.ceil(y/(1e3*60*60*24));return j<0?"Overdue":j===0?"Due today":j===1?"Due tomorrow":j<=7?`Due in ${j} days`:c.toLocaleDateString()},m=(r,c,S)=>{if(S)return"text-green-600";const y=r/c*100;return y>=90?"text-green-600":y>=60?"text-yellow-600":"text-blue-600"};return e.jsxs("div",{className:p("space-y-4",x),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"Study Goals"})]}),e.jsxs(ae,{open:s,onOpenChange:d,children:[e.jsx(ne,{asChild:!0,children:e.jsxs(h,{size:"sm",className:"gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"New Goal"]})}),e.jsxs(ie,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Create Study Goal"}),e.jsx(de,{children:"Set a new learning goal to stay motivated and track your progress."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"title",children:"Goal Title"}),e.jsx(L,{id:"title",placeholder:"e.g., Complete React Course",value:l.title,onChange:r=>u(c=>({...c,title:r.target.value}))})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"description",children:"Description (optional)"}),e.jsx(me,{id:"description",placeholder:"What do you want to achieve?",value:l.description,onChange:r=>u(c=>({...c,description:r.target.value})),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{children:"Goal Type"}),e.jsxs(R,{value:l.type,onValueChange:r=>u(c=>({...c,type:r})),children:[e.jsx(E,{children:e.jsx(U,{})}),e.jsxs(z,{children:[e.jsx(f,{value:"daily",children:"Daily"}),e.jsx(f,{value:"weekly",children:"Weekly"}),e.jsx(f,{value:"monthly",children:"Monthly"}),e.jsx(f,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{children:[e.jsx(C,{children:"Unit"}),e.jsxs(R,{value:l.unit,onValueChange:r=>u(c=>({...c,unit:r})),children:[e.jsx(E,{children:e.jsx(U,{})}),e.jsxs(z,{children:[e.jsx(f,{value:"minutes",children:"Minutes"}),e.jsx(f,{value:"lectures",children:"Lectures"}),e.jsx(f,{value:"courses",children:"Courses"}),e.jsx(f,{value:"forum_posts",children:"Forum Posts"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"target",children:"Target"}),e.jsx(L,{id:"target",type:"number",min:"1",value:l.target,onChange:r=>u(c=>({...c,target:parseInt(r.target.value)||1}))})]}),l.type==="custom"&&e.jsxs("div",{children:[e.jsx(C,{htmlFor:"deadline",children:"Deadline (optional)"}),e.jsx(L,{id:"deadline",type:"date",value:l.deadline,onChange:r=>u(c=>({...c,deadline:r.target.value}))})]})]})]}),e.jsxs(oe,{children:[e.jsx(h,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(h,{onClick:g,disabled:!l.title.trim(),children:"Create Goal"})]})]})]})]}),n.length===0?e.jsxs("div",{className:"academic-card p-8 text-center",children:[e.jsx(M,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No study goals set"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first goal to stay motivated and track your progress."}),e.jsxs(h,{onClick:()=>d(!0),className:"gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Create Your First Goal"]})]}):e.jsx("div",{className:"space-y-3",children:n.map(r=>{const c=w(r.type),S=P(r.type),y=r.current/r.target*100,j=t(r.deadline),K=m(r.current,r.target,r.isCompleted);return e.jsx("div",{className:"academic-card p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:p("p-2 rounded-lg border",S),children:e.jsx(c,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground",children:r.title}),r.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),e.jsx("div",{className:"flex items-center gap-1 ml-3",children:o&&e.jsx(h,{size:"sm",variant:"ghost",onClick:()=>o(r.id),className:"h-6 w-6 p-0 text-muted-foreground hover:text-destructive",children:e.jsx(re,{className:"h-3 w-3"})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:p("font-medium",K),children:[r.current," / ",r.target," ",r.unit,r.isCompleted&&e.jsx(F,{className:"inline h-4 w-4 ml-1 text-green-600"})]}),e.jsxs("span",{className:"text-muted-foreground",children:[Math.round(y),"%"]})]}),e.jsx(J,{value:Math.min(y,100),className:"h-2"}),j&&e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-muted-foreground capitalize",children:[r.type," goal"]}),e.jsx("span",{className:p("font-medium",j.includes("Overdue")?"text-destructive":j.includes("today")||j.includes("tomorrow")?"text-warning":"text-muted-foreground"),children:j})]})]})]})]})},r.id)})})]})}const v=class v{static getInstance(){return v.instance||(v.instance=new v),v.instance}constructor(){}async getDashboardData(a){try{const i=await fetch(`/api/v1/dashboard/user/${a}`);if(!i.ok)throw new Error("Failed to fetch dashboard data");return await i.json()}catch(i){return console.error("Error fetching dashboard data:",i),this.getMockDashboardData()}}async updateStudyGoal(a,i){try{if(!(await fetch(`/api/v1/dashboard/goals/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({progress:i})})).ok)throw new Error("Failed to update study goal")}catch(o){console.error("Error updating study goal:",o)}}async createStudyGoal(a){try{const i=await fetch("/api/v1/dashboard/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok)throw new Error("Failed to create study goal");return await i.json()}catch(i){throw console.error("Error creating study goal:",i),i}}async getWeeklyStats(a){try{const i=await fetch(`/api/v1/dashboard/stats/weekly/${a}`);if(!i.ok)throw new Error("Failed to fetch weekly stats");return await i.json()}catch(i){return console.error("Error fetching weekly stats:",i),this.getMockWeeklyStats()}}getMockDashboardData(){return{stats:{totalCourses:8,completedCourses:3,inProgressCourses:2,totalWatchTime:1247,streakDays:12,certificatesEarned:3,forumPosts:15,chatSessions:28},recentProgress:[{courseId:"react-mastery",courseTitle:"React Mastery: Build Modern Web Applications",courseThumbnail:"/course-thumbnails/react-mastery.jpg",instructor:"Sarah Wilson",progress:68,lastWatched:"2024-01-15T14:30:00Z",nextLecture:{id:"react-hooks-advanced",title:"Advanced React Hooks Patterns",duration:25},estimatedTimeToComplete:120,difficulty:"intermediate",category:"Web Development"},{courseId:"typescript-fundamentals",courseTitle:"TypeScript Fundamentals for Modern Development",courseThumbnail:"/course-thumbnails/typescript.jpg",instructor:"Michael Chen",progress:34,lastWatched:"2024-01-14T09:15:00Z",nextLecture:{id:"ts-generics",title:"Understanding TypeScript Generics",duration:18},estimatedTimeToComplete:200,difficulty:"intermediate",category:"Programming Languages"}],recentActivity:[{id:"activity_1",type:"lecture_completed",title:"Completed: React State Management",description:"You finished the lecture on advanced state management patterns",timestamp:"2024-01-15T14:30:00Z",courseId:"react-mastery",lectureId:"state-management",metadata:{duration:22,progress:68}},{id:"activity_2",type:"achievement_unlocked",title:"Achievement Unlocked: Study Streak!",description:"You maintained a 12-day learning streak",timestamp:"2024-01-15T08:00:00Z",metadata:{points:100}},{id:"activity_3",type:"forum_post",title:"Posted in React Community",description:"Asked a question about React performance optimization",timestamp:"2024-01-14T16:20:00Z"}],achievements:[{id:"first_course",title:"First Steps",description:"Complete your first course",icon:"GraduationCap",category:"milestone",points:100,unlockedAt:"2024-01-10T12:00:00Z"},{id:"study_streak_7",title:"Week Warrior",description:"Study for 7 consecutive days",icon:"Flame",category:"learning",points:150,unlockedAt:"2024-01-12T08:00:00Z"},{id:"community_contributor",title:"Community Contributor",description:"Make 10 helpful forum posts",icon:"MessageSquare",category:"engagement",points:200,progress:{current:7,target:10,unit:"posts"}},{id:"speed_learner",title:"Speed Learner",description:"Complete 5 lectures in one day",icon:"Zap",category:"special",points:300,progress:{current:3,target:5,unit:"lectures"}}],studyGoals:[{id:"daily_30min",title:"Daily Learning",description:"Study for at least 30 minutes every day",type:"daily",target:30,current:22,unit:"minutes",isCompleted:!1,createdAt:"2024-01-01T00:00:00Z"},{id:"weekly_react",title:"React Mastery Progress",description:"Complete 5 React lectures this week",type:"weekly",target:5,current:3,unit:"lectures",deadline:"2024-01-21T23:59:59Z",isCompleted:!1,createdAt:"2024-01-15T00:00:00Z"}],learningPaths:[{id:"frontend_developer",title:"Frontend Developer Path",description:"Master modern frontend development with React, TypeScript, and modern tools",courses:[{id:"html-css-basics",title:"HTML & CSS Fundamentals",isCompleted:!0,isUnlocked:!0,order:1},{id:"javascript-essentials",title:"JavaScript Essentials",isCompleted:!0,isUnlocked:!0,order:2},{id:"react-fundamentals",title:"React Fundamentals",isCompleted:!0,isUnlocked:!0,order:3},{id:"react-mastery",title:"React Mastery",isCompleted:!1,isUnlocked:!0,order:4},{id:"typescript-fundamentals",title:"TypeScript Fundamentals",isCompleted:!1,isUnlocked:!0,order:5},{id:"next-js-complete",title:"Next.js Complete Guide",isCompleted:!1,isUnlocked:!1,order:6}],progress:60,estimatedTime:45,difficulty:"intermediate",category:"Web Development"}],upcomingDeadlines:[{id:"goal_deadline_1",title:"React Mastery Weekly Goal",type:"goal",dueDate:"2024-01-21T23:59:59Z",priority:"medium"},{id:"course_deadline_1",title:"TypeScript Course Assignment",type:"assignment",dueDate:"2024-01-25T23:59:59Z",priority:"high"}],recommendations:[{id:"rec_1",type:"course",title:"Advanced React Patterns",reason:"Based on your progress in React Mastery",thumbnail:"/course-thumbnails/advanced-react.jpg",rating:4.8,studentsCount:15420},{id:"rec_2",type:"course",title:"Node.js Backend Development",reason:"Perfect complement to your frontend skills",thumbnail:"/course-thumbnails/nodejs.jpg",rating:4.7,studentsCount:12830},{id:"rec_3",type:"learning_path",title:"Full Stack Developer Path",reason:"Natural progression from Frontend Developer Path",rating:4.9,studentsCount:8540}]}}getMockWeeklyStats(){const a=new Date,i=[];for(let o=6;o>=0;o--){const x=new Date(a);x.setDate(x.getDate()-o),i.push({date:x.toISOString().split("T")[0],minutes:Math.floor(Math.random()*90)+10,lecturesCompleted:Math.floor(Math.random()*4),coursesStarted:o===6?1:Math.floor(Math.random()*2)})}return i}};W(v,"instance");let $=v;const _=$.getInstance();function Ue(){const{user:n}=te(),[a,i]=k.useState(null),[o,x]=k.useState(!0),[s,d]=k.useState([]);k.useEffect(()=>{n&&(l(),u())},[n]);const l=async()=>{if(n){x(!0);try{const t=await _.getDashboardData(n.id);i(t)}catch(t){console.error("Error loading dashboard data:",t)}finally{x(!1)}}},u=async()=>{if(n)try{const t=await _.getWeeklyStats(n.id);d(t)}catch(t){console.error("Error loading weekly stats:",t)}},g=async t=>{try{const m=await _.createStudyGoal(t);i(r=>r?{...r,studyGoals:[m,...r.studyGoals]}:null)}catch(m){console.error("Error creating goal:",m)}},w=async(t,m)=>{try{await _.updateStudyGoal(t,m),i(r=>r?{...r,studyGoals:r.studyGoals.map(c=>c.id===t?{...c,current:m,isCompleted:m>=c.target}:c)}:null)}catch(r){console.error("Error updating goal:",r)}},P=()=>{const t=new Date().getHours();return t<12?"Good morning":t<17?"Good afternoon":"Good evening"};return o?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(8)].map((t,m)=>e.jsx("div",{className:"h-32 bg-muted rounded"},m))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx("div",{className:"h-64 bg-muted rounded"}),e.jsx("div",{className:"h-64 bg-muted rounded"})]}),e.jsx("div",{className:"h-96 bg-muted rounded"})]})]})})}):a?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[P(),", ",n==null?void 0:n.username,"!"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Here's your learning progress and achievements"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a.stats.streakDays>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx(H,{className:"h-4 w-4 text-orange-600"}),e.jsxs("span",{className:"text-sm font-medium text-orange-800",children:[a.stats.streakDays," day streak!"]})]}),e.jsxs(h,{variant:"outline",onClick:l,className:"gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Refresh"]})]})]})}),e.jsx(ge,{stats:a.stats,className:"mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Continue Learning"})]}),e.jsxs(h,{variant:"ghost",size:"sm",className:"gap-1",children:["View All",e.jsx(G,{className:"h-4 w-4"})]})]}),e.jsx(je,{courses:a.recentProgress})]}),a.learningPaths.length>0&&e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Learning Paths"})]})}),e.jsx("div",{className:"space-y-4",children:a.learningPaths.map(t=>e.jsxs("div",{className:"academic-card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[t.courses.length," courses"]}),e.jsxs("span",{children:[t.estimatedTime,"h estimated"]}),e.jsx("span",{className:"capitalize",children:t.difficulty})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary",children:[t.progress,"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[t.courses.slice(0,6).map((m,r)=>e.jsx("div",{className:p("flex-1 h-2 rounded",m.isCompleted?"bg-green-500":m.isUnlocked?"bg-yellow-300":"bg-muted")},m.id)),t.courses.length>6&&e.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["+",t.courses.length-6]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.courses.filter(m=>m.isCompleted).length," of ",t.courses.length," completed"]}),e.jsx(h,{size:"sm",variant:"outline",children:"Continue Path"})]})]},t.id))})]}),a.achievements.length>0&&e.jsxs("section",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Achievements"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.achievements.slice(0,4).map(t=>e.jsx("div",{className:p("academic-card p-4",t.unlockedAt?"border-success bg-success/5":"opacity-75"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:p("p-2 rounded-lg",t.unlockedAt?"bg-success/20 text-success":"bg-muted text-muted-foreground"),children:e.jsx(T,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-foreground mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs font-medium text-primary",children:["+",t.points," points"]}),t.progress&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.progress.current,"/",t.progress.target," ",t.progress.unit]})]})]})]})},t.id))})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(ye,{goals:a.studyGoals,onCreateGoal:g,onUpdateGoal:w}),e.jsx(fe,{activities:a.recentActivity.slice(0,5)}),a.recommendations.length>0&&e.jsxs("div",{className:"academic-card",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Recommended for You"})]})}),e.jsx("div",{className:"divide-y",children:a.recommendations.slice(0,3).map(t=>e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[t.thumbnail&&e.jsx("img",{src:t.thumbnail,alt:t.title,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 mb-1",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:t.reason}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3 fill-current text-yellow-500"}),e.jsx("span",{children:t.rating})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsx("span",{children:t.studentsCount.toLocaleString()})]})]})]})]})},t.id))}),e.jsx("div",{className:"p-4 border-t text-center",children:e.jsxs(h,{size:"sm",variant:"outline",className:"gap-1",children:["View All Recommendations",e.jsx(G,{className:"h-3 w-3"})]})})]}),a.upcomingDeadlines.length>0&&e.jsxs("div",{className:"academic-card",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-warning"}),e.jsx("h3",{className:"font-semibold",children:"Upcoming Deadlines"})]})}),e.jsx("div",{className:"divide-y",children:a.upcomingDeadlines.map(t=>e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-1",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t.type.replace("_"," ")})]}),e.jsx("span",{className:p("text-xs font-medium px-2 py-1 rounded",t.priority==="high"&&"bg-destructive/10 text-destructive",t.priority==="medium"&&"bg-warning/10 text-warning",t.priority==="low"&&"bg-muted text-muted-foreground"),children:new Date(t.dueDate).toLocaleDateString()})]})},t.id))})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"academic-card p-8 text-center",children:[e.jsx(b,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Unable to load dashboard"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error loading your dashboard data."}),e.jsxs(h,{onClick:l,className:"gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"Try Again"]})]})})})}export{Ue as component};
