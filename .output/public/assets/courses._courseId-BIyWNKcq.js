var ue=Object.defineProperty;var he=(n,t,s)=>t in n?ue(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var J=(n,t,s)=>he(n,typeof t!="symbol"?t+"":t,s);import{c as ce,u as le,r as k,j as e,I as xe,B as N,X as pe,C as ie,R as fe,d as je,a as X,L as U,b as ge}from"./main-amE6mPDm.js";import{u as R}from"./useQuery-DdeLzvk4.js";import{a as A}from"./api-client-CoYXQ-f4.js";import{P as ye}from"./progress-DNbG4PEc.js";import{T as Ne,a as ve,b as z,c as B}from"./tabs-kVy7bjmP.js";import{D as we,a as be,b as ke,c as Ce,d as Pe,e as Se,f as Ee}from"./dialog-BJ4RE-0q.js";import{L as D,a as Ie,C as _e}from"./label-2d2k_XBO.js";import{a as Le,H as ee,S as $e}from"./switch-pKVVuMJm.js";import{L as Q}from"./lock-DIxZ9tmy.js";import{C as H,a as Ae}from"./circle-check-big-DaPFtRnM.js";import{C as Te}from"./circle-alert-EGR15Bm1.js";import{L as oe}from"./loader-circle-D5w-Lebd.js";import{A as Oe}from"./arrow-left-BeZzhq3e.js";import{U as se}from"./users-q7MBazRm.js";import{S as qe}from"./star-soZIZnvE.js";import{C as G}from"./clock-DsV4s8UB.js";import{T as Fe}from"./target-DA1N7FoU.js";import{P as re}from"./play-Bsqp6nLS.js";import{M as Me}from"./message-square-BFr9fZWG.js";import{D as Ue}from"./download-Nl6LrYXI.js";import{A as ze}from"./award-DSGASyfU.js";import"./index-B2I2svRw.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Re=ce("Gift",Be);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Qe=ce("Globe",Ge);var He={};function Ke(n){return He[n]}var Ye="__config__",Ve="https://api.lemonsqueezy.com";function de(n){return Object.prototype.toString.call(n)==="[object Object]"}function We(n){return n.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function O(n,t=void 0){let s={};for(let r in n)n[r]!==t&&(s[We(r)]=de(n[r])?O(n[r],t):n[r]);return s}function Y(n){return!n||!Array.isArray(n)||!n.length?"":`?include=${n.join(",")}`}function me(n){let{filter:t={},page:s={},include:r=[]}=n,c=O({filter:t,page:s,include:r.join(",")}),p={};for(let f in c){let h=c[f];if(de(h))for(let d in h)p[`${f}[${d}]`]=`${h[d]}`;else p[`${f}`]=`${c[f]}`}let i=new URLSearchParams(p).toString();return i?`?${i}`:""}function L(n){for(let t in n)if(!n[t])throw Error(`Please provide the required parameter: ${t}.`)}async function E(n,t=!0){let s={statusCode:null,data:null,error:Error()},{apiKey:r,onError:c}=Ke(Ye)||{};try{if(t&&!r)return s.error=te("Please provide your Lemon Squeezy API key. Create a new API key: https://app.lemonsqueezy.com/settings/api","Missing API key"),c==null||c(s.error),s;let{path:p,method:i="GET",query:f,body:h}=n,d={method:i},a=new URL(`${Ve}${p}`);for(let m in f)a.searchParams.append(m,f[m]);d.headers=new Headers,d.headers.set("Accept","application/vnd.api+json"),d.headers.set("Content-Type","application/vnd.api+json"),t&&d.headers.set("Authorization",`Bearer ${r}`),["PATCH","POST"].includes(i)&&(d.body=h?JSON.stringify(h):null);let v=await fetch(a.href,d),u=await v.json(),y=v.ok,P=v.status;if(y)Object.assign(s,{statusCode:P,data:u,error:null});else{let{errors:m,error:S,message:I}=u,C=m||S||I||"unknown cause";Object.assign(s,{statusCode:P,data:u,error:te(v.statusText,C)})}}catch(p){Object.assign(s,{error:p})}return s.error&&(c==null||c(s.error)),s}function te(n,t="unknown"){let s=new Error(n);return s.name="Lemon Squeezy Error",s.cause=t,s}function Ze(n,t={}){return L({customerId:n}),E({path:`/v1/customers/${n}${Y(t.include)}`})}function Je(n={}){return E({path:`/v1/products${me(n)}`})}function Xe(n={}){return E({path:`/v1/variants${me(n)}`})}function De(n,t={}){return L({subscriptionId:n}),E({path:`/v1/subscriptions/${n}${Y(t.include)}`})}function es(n,t){L({subscriptionId:n});let{variantId:s,cancelled:r,billingAnchor:c,invoiceImmediately:p,disableProrations:i,pause:f,trialEndsAt:h}=t,d=O({variantId:s,cancelled:r,billingAnchor:c,invoiceImmediately:p,disableProrations:i,pause:f,trialEndsAt:h});return E({path:`/v1/subscriptions/${n}`,method:"PATCH",body:{data:{type:"subscriptions",id:n.toString(),attributes:d}}})}function ss(n){return L({subscriptionId:n}),E({path:`/v1/subscriptions/${n}`,method:"DELETE"})}function ne(n,t,s={}){var u;L({storeId:n,variantId:t});let{customPrice:r,productOptions:c,checkoutOptions:p,checkoutData:i,expiresAt:f,preview:h,testMode:d}=s,a={store:{data:{type:"stores",id:n.toString()}},variant:{data:{type:"variants",id:t.toString()}}},v={customPrice:r,expiresAt:f,preview:h,testMode:d,productOptions:c,checkoutOptions:p,checkoutData:{...i,variantQuantities:(u=i==null?void 0:i.variantQuantities)==null?void 0:u.map(y=>O(y))}};return E({path:"/v1/checkouts",method:"POST",body:{data:{type:"checkouts",attributes:O(v),relationships:a}}})}function rs(n,t={}){return L({checkoutId:n}),E({path:`/v1/checkouts/${n}${Y(t.include)}`})}const T=void 0,_=class _{static getInstance(){return _.instance||(_.instance=new _),_.instance}constructor(){console.warn("Lemon Squeezy API key not found. Payment functionality will be limited.")}async createCourseCheckout(t){var s;try{const r={data:{type:"checkouts",attributes:{product_options:{name:t.courseTitle,description:`Access to ${t.courseTitle} course with lifetime access`},checkout_options:{embed:!1,media:!0,logo:!0},checkout_data:{email:t.userEmail,name:t.userName,custom:{course_id:t.courseId,user_id:t.userId,purchase_type:"course"}},expires_at:null},relationships:{store:{data:{type:"stores",id:T||""}},variant:{data:{type:"variants",id:await this.getOrCreateCourseVariant(t)}}}}},c=await ne(T||"",r);if(c.error)throw new Error(c.error.message);return((s=c.data)==null?void 0:s.data.attributes.url)||""}catch(r){throw console.error("Error creating course checkout:",r),new Error("Failed to create checkout session")}}async createSubscriptionCheckout(t){var s;try{const r={data:{type:"checkouts",attributes:{product_options:{name:`${t.planName} Subscription`,description:"Monthly access to all premium courses and features"},checkout_options:{embed:!1,media:!0,logo:!0},checkout_data:{email:t.userEmail,name:t.userName,custom:{user_id:t.userId,purchase_type:"subscription",plan_name:t.planName}},expires_at:null},relationships:{store:{data:{type:"stores",id:T||""}},variant:{data:{type:"variants",id:t.variantId}}}}},c=await ne(T||"",r);if(c.error)throw new Error(c.error.message);return((s=c.data)==null?void 0:s.data.attributes.url)||""}catch(r){throw console.error("Error creating subscription checkout:",r),new Error("Failed to create checkout session")}}async getCheckoutById(t){var s;try{const r=await rs(t);if(r.error)throw new Error(r.error.message);return((s=r.data)==null?void 0:s.data)||null}catch(r){return console.error("Error fetching checkout:",r),null}}async getProducts(){var t;try{const s=await Je({filter:{storeId:T}});if(s.error)throw new Error(s.error.message);return((t=s.data)==null?void 0:t.data)||[]}catch(s){return console.error("Error fetching products:",s),[]}}async getProductVariants(t){var s;try{const r=await Xe({filter:{productId:t}});if(r.error)throw new Error(r.error.message);return((s=r.data)==null?void 0:s.data)||[]}catch(r){return console.error("Error fetching variants:",r),[]}}async getSubscriptionById(t){var s;try{const r=await De(t);if(r.error)throw new Error(r.error.message);return((s=r.data)==null?void 0:s.data)||null}catch(r){return console.error("Error fetching subscription:",r),null}}async cancelSubscriptionById(t){try{const s=await ss(t);if(s.error)throw new Error(s.error.message);return!0}catch(s){return console.error("Error canceling subscription:",s),!1}}async updateSubscriptionById(t,s){var r;try{const c=await es(t,{data:{type:"subscriptions",id:t,attributes:s}});if(c.error)throw new Error(c.error.message);return((r=c.data)==null?void 0:r.data)||null}catch(c){return console.error("Error updating subscription:",c),null}}async getCustomerById(t){var s;try{const r=await Ze(t);if(r.error)throw new Error(r.error.message);return((s=r.data)==null?void 0:s.data)||null}catch(r){return console.error("Error fetching customer:",r),null}}async getOrCreateCourseVariant(t){return`variant_${t.courseId}`}static validateWebhookSignature(t,s,r){return!0}};J(_,"instance");let K=_;const ae=K.getInstance();function ts({children:n,type:t,courseData:s,subscriptionData:r,onSuccess:c,onCancel:p}){const{user:i}=le(),[f,h]=k.useState(!1),[d,a]=k.useState(!1),[v,u]=k.useState(""),[y,P]=k.useState(""),[m,S]=k.useState(null),[I,C]=k.useState(!1),x=t==="course",j=t==="subscription",g=(o,w="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:w}).format(o),$=()=>{const o=x?(s==null?void 0:s.price)||0:(r==null?void 0:r.price)||0;return m?o*(1-m.discount/100):o},q=async()=>{y.trim()&&(y.toLowerCase()==="student10"?(S({code:y,discount:10}),u("")):y.toLowerCase()==="welcome20"?(S({code:y,discount:20}),u("")):(u("Invalid coupon code"),S(null)))},F=()=>{S(null),P(""),u("")},M=async()=>{if(!i){u("Please log in to continue");return}if(!I){u("Please accept the terms and conditions");return}a(!0),u("");try{let o="";if(x&&s){const w={courseId:s.id,courseTitle:s.title,price:$(),currency:s.currency,userId:i.id,userEmail:i.email,userName:i.username};o=await ae.createCourseCheckout(w)}else if(j&&r){const w={planName:r.planName,variantId:r.variantId,userId:i.id,userEmail:i.email,userName:i.username};o=await ae.createSubscriptionCheckout(w)}if(o)window.open(o,"_blank","width=800,height=800,scrollbars=yes,resizable=yes"),h(!1),c==null||c();else throw new Error("Failed to create checkout session")}catch(o){console.error("Payment error:",o),u(o instanceof Error?o.message:"Payment failed. Please try again.")}finally{a(!1)}};return e.jsxs(we,{open:f,onOpenChange:h,children:[e.jsx(be,{asChild:!0,onClick:()=>h(!0),children:n}),e.jsxs(ke,{className:"sm:max-w-md",children:[e.jsxs(Ce,{children:[e.jsxs(Pe,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-primary"}),"Complete Your ",x?"Purchase":"Subscription"]}),e.jsx(Se,{children:x?"Get lifetime access to this course and all its content":"Subscribe for unlimited access to all premium courses"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"academic-card p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:x?s==null?void 0:s.title:`${r==null?void 0:r.planName} Plan`}),j&&r&&e.jsxs("div",{className:"mt-2 space-y-1",children:[r.features.slice(0,3).map((o,w)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(H,{className:"h-3 w-3 text-success"}),e.jsx("span",{children:o})]},w)),r.features.length>3&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["+",r.features.length-3," more features"]})]})]}),e.jsxs("div",{className:"text-right",children:[x&&(s==null?void 0:s.originalPrice)&&s.originalPrice>s.price&&e.jsx("div",{className:"text-sm text-muted-foreground line-through",children:g(s.originalPrice,s.currency)}),e.jsx("div",{className:"text-lg font-bold text-primary",children:x?g((s==null?void 0:s.price)||0,s==null?void 0:s.currency):`${g((r==null?void 0:r.price)||0,r==null?void 0:r.currency)}/month`})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(D,{className:"text-sm font-medium",children:"Coupon Code (Optional)"}),m?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-success/10 border border-success/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-success"}),e.jsxs("span",{className:"text-sm font-medium",children:[m.code," (",m.discount,"% off)"]})]}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",onClick:F,className:"h-6 w-6 p-0",children:e.jsx(pe,{className:"h-3 w-3"})})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx(xe,{placeholder:"Enter coupon code",value:y,onChange:o=>P(o.target.value),className:"flex-1"}),e.jsx(N,{type:"button",variant:"outline",onClick:q,disabled:!y.trim(),children:"Apply"})]})]}),m&&e.jsxs("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:x?g((s==null?void 0:s.price)||0,s==null?void 0:s.currency):g((r==null?void 0:r.price)||0,r==null?void 0:r.currency)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-success",children:[e.jsxs("span",{children:["Discount (",m.discount,"%):"]}),e.jsxs("span",{children:["-",g((x?(s==null?void 0:s.price)||0:(r==null?void 0:r.price)||0)*(m.discount/100),x?s==null?void 0:s.currency:r==null?void 0:r.currency)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-primary",children:[g($(),x?s==null?void 0:s.currency:r==null?void 0:r.currency),j&&"/month"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Le,{id:"terms",checked:I,onCheckedChange:C,className:"mt-0.5"}),e.jsxs(D,{htmlFor:"terms",className:"text-sm text-muted-foreground leading-relaxed",children:["I accept the"," ",e.jsx("a",{href:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-primary hover:underline",target:"_blank",children:"Privacy Policy"}),j&&". You can cancel your subscription at any time."]})]}),v&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx("span",{children:v})]})]}),e.jsxs(Ee,{className:"flex-col gap-3",children:[e.jsxs(N,{className:"w-full h-11",onClick:M,disabled:d||!I||!i,children:[d?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(ie,{className:"h-4 w-4 mr-2"}),d?"Processing...":`Complete ${x?"Purchase":"Subscription"} - ${g($(),x?s==null?void 0:s.currency:r==null?void 0:r.currency)}${j?"/month":""}`]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[e.jsx(Q,{className:"h-3 w-3"}),e.jsx("span",{children:"Secured by Lemon Squeezy • SSL Encrypted"})]})]})]})]})}function Ss(){var F,M,o,w,V,W;const{courseId:n}=fe.useParams(),{token:t,user:s}=le(),r=je(),[c,p]=k.useState(!1),[i,f]=k.useState(!1),[h,d]=k.useState("overview"),{data:a,isLoading:v,error:u}=R({queryKey:["course",n],queryFn:async()=>(await A.getCourse(n)).data}),y=R({queryKey:["lectures",n],queryFn:async()=>(await A.listLectures(n)).data,enabled:!!n}),{data:P}=R({queryKey:["enrollment",n],queryFn:async()=>{if(!t)return null;try{return(await A.getEnrollment(t,n)).data}catch{return null}},enabled:!!s&&!!t}),m=k.useMemo(()=>!!P,[P]),S=async()=>{if(!t)return alert("Please login first");if(a!=null&&a.price&&a.price>0){alert("This is a paid course. Please use the payment option.");return}try{await A.enroll(t,n),await r.invalidateQueries({queryKey:["enrollment",n]}),p(!0),alert("Successfully enrolled!")}catch{alert("Enrollment failed. Please try again.")}},I=async()=>{try{t&&(await A.enroll(t,n),await r.invalidateQueries({queryKey:["enrollment",n]}),p(!0))}catch(l){console.error("Post-payment enrollment failed:",l),alert("Payment successful! Please contact support if you cannot access the course.")}},C=l=>{if(l<60)return`${l}m`;const b=Math.floor(l/60),Z=l%60;return Z>0?`${b}h ${Z}m`:`${b}h`},x=(l,b="USD")=>l===0?"Free":new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(l);if(v)return e.jsx("div",{className:"min-h-[50vh] flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"h-6 w-6 animate-spin text-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading course..."})]})});if(u||!a)return e.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center",children:[e.jsx(X,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Course not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The course you're looking for doesn't exist or has been removed."}),e.jsx(N,{asChild:!0,children:e.jsxs(U,{to:"/courses",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Back to Courses"]})})]});const j=((F=y.data)==null?void 0:F.lectures)??[],g=j.reduce((l,b)=>l+(b.duration_minutes||0),0),$=j.filter(l=>l.is_free||m).length,q=j.length>0?$/j.length*100:0;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(U,{to:"/courses",className:"hover:text-foreground transition-colors",children:"Courses"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-foreground font-medium truncate",children:a.title})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.level&&e.jsx("span",{className:ge("px-2 py-1 text-xs font-medium rounded-full border",a.level==="beginner"&&"course-level-beginner",a.level==="intermediate"&&"course-level-intermediate",a.level==="advanced"&&"course-level-advanced",a.level==="expert"&&"course-level-expert"),children:a.level}),a.category&&e.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded",children:a.category})]}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold font-academic text-foreground mb-3",children:a.title}),e.jsx("p",{className:"text-lg text-muted-foreground mb-4 leading-relaxed",children:a.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.instructor_name&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsxs("span",{children:["by ",a.instructor_name]})]}),a.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"h-4 w-4 fill-current text-warning"}),e.jsx("span",{children:a.rating}),a.rating_count&&e.jsxs("span",{children:["(",a.rating_count.toLocaleString(),")"]})]}),a.enrollment_count&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsxs("span",{children:[a.enrollment_count.toLocaleString()," students"]})]}),g>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:C(g)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:"English"})]})]}),m&&e.jsxs("div",{className:"mt-4 p-4 bg-success/10 border border-success/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Your Progress"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(q),"% Complete"]})]}),e.jsx(ye,{value:q,className:"h-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(N,{variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx(N,{variant:"outline",size:"sm",children:e.jsx($e,{className:"h-4 w-4"})})]})]})}),e.jsxs(Ne,{value:h,onValueChange:d,children:[e.jsxs(ve,{className:"grid w-full grid-cols-4",children:[e.jsx(z,{value:"overview",children:"Overview"}),e.jsx(z,{value:"curriculum",children:"Curriculum"}),e.jsx(z,{value:"instructor",children:"Instructor"}),e.jsx(z,{value:"reviews",children:"Reviews"})]}),e.jsxs(B,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"academic-card p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),"What you'll learn"]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:["Master the fundamentals and advanced concepts","Build real-world projects from scratch","Learn industry best practices and standards","Get hands-on experience with modern tools","Understand key principles and methodologies","Prepare for certification or career advancement"].map((l,b)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(H,{className:"h-4 w-4 text-success mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:l})]},b))})]}),e.jsxs("div",{className:"academic-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Requirements"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),"Basic computer literacy and internet access"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),"No prior experience required - we'll teach you everything"]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),"Dedication to learn and practice regularly"]})]})]}),e.jsxs("div",{className:"academic-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About this course"}),e.jsxs("div",{className:"prose prose-sm max-w-none",children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i?e.jsxs(e.Fragment,{children:[a.description,e.jsx("br",{}),e.jsx("br",{}),"This comprehensive course is designed to take you from beginner to advanced level through structured learning modules, hands-on projects, and real-world applications. You'll gain practical skills that are immediately applicable in your career or personal projects.",e.jsx("br",{}),e.jsx("br",{}),"Throughout the course, you'll have access to downloadable resources, exercise files, and lifetime access to all course materials. Our community of learners and instructors are here to support your learning journey every step of the way."]}):e.jsxs(e.Fragment,{children:[(M=a.description)==null?void 0:M.slice(0,300),(((o=a.description)==null?void 0:o.length)||0)>300&&"..."]})}),(((w=a.description)==null?void 0:w.length)||0)>300&&e.jsxs(N,{variant:"link",className:"p-0 h-auto font-medium",onClick:()=>f(!i),children:[i?"Show less":"Show more",i?e.jsx(Ie,{className:"h-4 w-4 ml-1"}):e.jsx(_e,{className:"h-4 w-4 ml-1"})]})]})]})]}),e.jsx(B,{value:"curriculum",className:"space-y-4",children:e.jsxs("div",{className:"academic-card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Course Content"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.length," lectures • ",C(g)]})]}),e.jsx("div",{className:"space-y-2",children:j.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No lectures available yet."})]}):j.map((l,b)=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/30 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted rounded-full text-sm font-medium",children:l.order_number||b+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-foreground",children:l.title}),l.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[l.duration_minutes&&e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),C(l.duration_minutes)]}),l.is_free||m?e.jsx(N,{size:"sm",variant:"outline",asChild:!0,children:e.jsxs(U,{to:"/learn/$courseId/$lectureId",params:{courseId:n,lectureId:l.id},children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),l.is_free?"Preview":"Watch"]})}):e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Q,{className:"h-3 w-3"}),"Locked"]})]})]})},l.id))})]})}),e.jsx(B,{value:"instructor",children:e.jsxs("div",{className:"academic-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About the Instructor"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xl font-semibold",children:(V=a.instructor_name)==null?void 0:V.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg",children:a.instructor_name}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Expert Instructor"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"An experienced professional with years of industry expertise, dedicated to helping students achieve their learning goals through practical, hands-on instruction."})]})]})]})}),e.jsx(B,{value:"reviews",children:e.jsxs("div",{className:"academic-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Student Reviews"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Me,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Reviews will appear here once students start rating this course."})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"academic-card overflow-hidden sticky top-8",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:e.jsxs(N,{size:"lg",className:"bg-background/90 backdrop-blur-sm",children:[e.jsx(re,{className:"h-5 w-5 mr-2"}),"Course Preview"]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary mb-4",children:[x(a.price||0,a.currency),a.price&&a.price>0&&e.jsxs("span",{className:"text-lg text-muted-foreground line-through ml-2",children:["$",Math.round((a.price||0)*1.5)]})]}),e.jsxs("div",{className:"space-y-4",children:[m?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-success",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Enrolled"})]}),e.jsx(N,{className:"w-full",asChild:!0,children:e.jsx(U,{to:"/me/enrollments",children:"Continue Learning"})})]}):e.jsx(e.Fragment,{children:a.price&&a.price>0?e.jsxs("div",{className:"space-y-3",children:[e.jsx(ts,{type:"course",courseData:{id:n,title:a.title,price:a.price,currency:a.currency||"USD"},onSuccess:I,onCancel:()=>console.log("Payment cancelled"),children:e.jsxs(N,{className:"w-full h-11",disabled:!s,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),s?`Purchase for ${x(a.price,a.currency)}`:"Login to Purchase"]})}),e.jsxs(N,{variant:"outline",className:"w-full h-11",disabled:!s,children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Add to Wishlist"]})]}):e.jsx(N,{className:"w-full h-11",onClick:S,disabled:!s,children:s?"Enroll for Free":"Login to Enroll"})}),e.jsxs("div",{className:"pt-4 border-t space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsx("span",{className:"text-muted-foreground",children:"Includes:"})}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[C(g)," on-demand video"]})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Downloadable resources"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Certificate of completion"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Lifetime access"})]})]})]})]})]})]}),e.jsxs("div",{className:"academic-card p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Course Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Skill Level"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:a.level||"All Levels"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Students"}),e.jsx("span",{className:"text-sm font-medium",children:((W=a.enrollment_count)==null?void 0:W.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Lectures"}),e.jsx("span",{className:"text-sm font-medium",children:j.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Duration"}),e.jsx("span",{className:"text-sm font-medium",children:C(g)})]})]})]})]})]})})]})}export{Ss as component};
