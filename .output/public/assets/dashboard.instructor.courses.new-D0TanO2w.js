import{u as l,n as c,j as e}from"./main-amE6mPDm.js";import{u}from"./useMutation-BBcAv7H8.js";import{a as m}from"./api-client-CoYXQ-f4.js";import{I as p}from"./InstructorGuard-2KiUKDdY.js";function j(){const{user:a,token:s}=l(),i=c(),n=u({mutationFn:async t=>m.createCourse(s||"",t),onSuccess:t=>{var r;return i({to:"/dashboard/instructor/courses/$courseId/edit",params:{courseId:((r=t.data)==null?void 0:r.id)||""}})}}),o=t=>{t.preventDefault();const r=new FormData(t.currentTarget),d={title:String(r.get("title")||""),description:String(r.get("description")||""),instructor_id:(a==null?void 0:a.id)||"",category:String(r.get("category")||"general"),level:String(r.get("level")||"beginner"),price:Number(r.get("price")||"0"),currency:"USD",thumbnail_url:String(r.get("thumbnail_url")||"")};n.mutate(d)};return e.jsx(p,{children:e.jsxs("div",{className:"p-4 max-w-xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Create New Course"}),e.jsxs("form",{className:"flex flex-col gap-3",onSubmit:o,children:[e.jsx("input",{name:"title",placeholder:"Title",className:"border p-2 rounded",required:!0}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"border p-2 rounded"}),e.jsx("input",{name:"category",placeholder:"Category",className:"border p-2 rounded"}),e.jsxs("select",{name:"level",className:"border p-2 rounded",children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]}),e.jsx("input",{name:"price",type:"number",step:"0.01",placeholder:"Price",className:"border p-2 rounded"}),e.jsx("input",{name:"thumbnail_url",placeholder:"Thumbnail URL",className:"border p-2 rounded"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded self-start",disabled:n.isPending,children:n.isPending?"Creating...":"Create"})]})]})})}export{j as component};
