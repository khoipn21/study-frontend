var h=Object.defineProperty;var f=(s,e,t)=>e in s?h(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>f(s,typeof e!="symbol"?e+"":e,t);import{c}from"./main-amE6mPDm.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P=c("Eye",y);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],E=c("Pin",m);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],j=c("Tag",w),o=class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}constructor(){}async getPosts(e){const{categoryId:t,courseId:r,search:i,sortBy:d="recent",page:u=1,limit:g=20}=e;try{const a=new URLSearchParams({page:u.toString(),limit:g.toString(),sortBy:d});t&&a.append("categoryId",t),r&&a.append("courseId",r),i&&a.append("search",i);const p=await fetch(`/api/v1/forum/posts?${a}`);if(!p.ok)throw new Error("Failed to fetch posts");return await p.json()}catch(a){return console.error("Error fetching posts:",a),this.getMockPosts(e)}}async getPost(e){try{const t=await fetch(`/api/v1/forum/posts/${e}`);if(!t.ok)throw new Error("Failed to fetch post");return await t.json()}catch(t){return console.error("Error fetching post:",t),this.getMockPost(e)}}async createPost(e){try{const t=await fetch("/api/v1/forum/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create post");return await t.json()}catch(t){throw console.error("Error creating post:",t),t}}async createReply(e){try{const t=await fetch("/api/v1/forum/replies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create reply");return await t.json()}catch(t){throw console.error("Error creating reply:",t),t}}async votePost(e,t){try{if(!(await fetch(`/api/v1/forum/posts/${e}/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vote:t})})).ok)throw new Error("Failed to vote on post")}catch(r){throw console.error("Error voting on post:",r),r}}async voteReply(e,t){try{if(!(await fetch(`/api/v1/forum/replies/${e}/vote`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vote:t})})).ok)throw new Error("Failed to vote on reply")}catch(r){throw console.error("Error voting on reply:",r),r}}async acceptReply(e){try{if(!(await fetch(`/api/v1/forum/replies/${e}/accept`,{method:"POST"})).ok)throw new Error("Failed to accept reply")}catch(t){throw console.error("Error accepting reply:",t),t}}async getCategories(){try{const e=await fetch("/api/v1/forum/categories");if(!e.ok)throw new Error("Failed to fetch categories");return await e.json()}catch(e){return console.error("Error fetching categories:",e),this.getMockCategories()}}async getForumStats(){try{const e=await fetch("/api/v1/forum/stats");if(!e.ok)throw new Error("Failed to fetch forum stats");return await e.json()}catch(e){return console.error("Error fetching forum stats:",e),this.getMockStats()}}getMockCategories(){return[{id:"1",name:"General Discussion",description:"General discussions about courses and learning",icon:"MessageSquare",color:"blue",postCount:156},{id:"2",name:"Programming",description:"Coding questions and programming help",icon:"Code",color:"green",postCount:243},{id:"3",name:"Design",description:"UI/UX design discussions and feedback",icon:"Palette",color:"purple",postCount:89},{id:"4",name:"Career Advice",description:"Career guidance and job search tips",icon:"Briefcase",color:"orange",postCount:67},{id:"5",name:"Study Groups",description:"Form study groups and find study partners",icon:"Users",color:"pink",postCount:34}]}getMockStats(){return{totalPosts:589,totalReplies:1247,totalUsers:1834,mostActiveUsers:[{id:"1",username:"sarah_dev",avatar:"/avatars/sarah.jpg",role:"instructor",reputation:2450,joinDate:"2023-01-15"},{id:"2",username:"alex_student",role:"student",reputation:1280,joinDate:"2023-03-22"}],recentPosts:[]}}getMockPosts(e){const t=[{id:"1",title:"Best practices for React state management?",content:"I'm working on a large React application and struggling with state management. What are the current best practices?",author:{id:"2",username:"alex_student",role:"student",reputation:1280,joinDate:"2023-03-22"},category:this.getMockCategories()[1],tags:["react","state-management","javascript"],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",views:45,votes:8,isLocked:!1,isPinned:!1,isSolved:!1,replies:[],userVote:null}];return{posts:t,total:t.length}}getMockPost(e){return{id:e,title:"Best practices for React state management?",content:"I'm working on a large React application and struggling with state management. What are the current best practices? Should I use Redux, Zustand, or stick with React's built-in state management?",author:{id:"2",username:"alex_student",role:"student",reputation:1280,joinDate:"2023-03-22"},category:this.getMockCategories()[1],tags:["react","state-management","javascript"],createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T10:30:00Z",views:45,votes:8,isLocked:!1,isPinned:!1,isSolved:!1,replies:[{id:"1",content:"For large applications, I recommend Redux Toolkit. It provides excellent developer experience and scales well.",author:{id:"1",username:"sarah_dev",role:"instructor",reputation:2450,joinDate:"2023-01-15"},postId:e,createdAt:"2024-01-15T11:15:00Z",updatedAt:"2024-01-15T11:15:00Z",votes:12,isAccepted:!0,userVote:null}],userVote:null}}};l(o,"instance");let n=o;const C=n.getInstance();export{P as E,E as P,j as T,C as f};
