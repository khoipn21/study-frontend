import{u as t,j as e,L as a}from"./main-amE6mPDm.js";import{u as i}from"./useQuery-DdeLzvk4.js";import{a as o}from"./api-client-CoYXQ-f4.js";function c({children:r}){const{user:s}=t();return s?e.jsx(e.Fragment,{children:r}):e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-2",children:"You must be logged in to view this page."}),e.jsx(a,{to:"/auth/login",className:"text-blue-600 underline",children:"Go to Login"})]})}function x(){const{token:r}=t(),{data:s,isLoading:l}=i({queryKey:["enrollments"],queryFn:async()=>(await o.listEnrollments(r||"")).data??{enrollments:[],total:0,page:1,page_size:10,total_pages:1},enabled:!!r});return e.jsx(c,{children:e.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"My Enrollments"}),l&&e.jsx("div",{children:"Loading..."}),e.jsx("ul",{className:"divide-y",children:s==null?void 0:s.enrollments.map(n=>e.jsx("li",{className:"py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Course: ",n.course_id]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Progress: ",Math.round(n.progress_percentage||0),"%"]})]}),e.jsx(a,{to:"/courses/$courseId",params:{courseId:n.course_id},className:"text-blue-600 underline",children:"View"})]})},n.id))})]})})}export{x as component};
