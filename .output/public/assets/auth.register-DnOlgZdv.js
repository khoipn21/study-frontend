import{n as c,u as p,O as x,j as s,L as g}from"./main-amE6mPDm.js";import{u as h}from"./useMutation-BBcAv7H8.js";import{a as b}from"./api-client-CoYXQ-f4.js";function w(){const n=c(),{login:o}=p(),[r,i]=x.useState(null),a=h({mutationFn:e=>b.register(e),onSuccess:e=>{const t=e.data;o(t.user,t.token),n({to:"/courses/"})},onError:e=>i((e==null?void 0:e.message)||"Registration failed")}),m=e=>{e.preventDefault();const t=new FormData(e.currentTarget),u=String(t.get("username")||""),d=String(t.get("email")||""),l=String(t.get("password")||"");a.mutate({username:u,email:d,password:l})};return s.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Create Account"}),s.jsxs("form",{className:"flex flex-col gap-3",onSubmit:m,children:[s.jsx("input",{name:"username",placeholder:"Username",className:"border rounded p-2",required:!0}),s.jsx("input",{name:"email",type:"email",placeholder:"Email",className:"border rounded p-2",required:!0}),s.jsx("input",{name:"password",type:"password",placeholder:"Password",className:"border rounded p-2",required:!0}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",disabled:a.isPending,children:a.isPending?"Creating...":"Register"}),r&&s.jsx("p",{className:"text-sm text-red-600",children:r})]}),s.jsxs("p",{className:"text-sm mt-3",children:["Have an account?"," ",s.jsx(g,{to:"/auth/login",className:"text-blue-600 underline",children:"Login"})]})]})}export{w as component};
